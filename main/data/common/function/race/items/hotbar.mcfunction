execute unless entity @s[nbt={Inventory:[{components:{"minecraft:custom_data":{"race_start":true}}}]}] run item replace entity @s hotbar.1 with turtle_scute[item_name='[{"text":"开始比赛","color":"green","bold": true,"italic": false}]',lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 以开始比赛","color": "gray","italic": false}]'],custom_data={"race_start":true},hide_additional_tooltip={},food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]

execute unless entity @s[nbt={Inventory:[{components:{"minecraft:custom_data":{"race_stop":true}}}]}] run item replace entity @s hotbar.2 with red_dye[item_name='[{"text":"结束比赛","color":"red","bold": true,"italic": false}]',hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 以结束比赛","color": "gray","italic": false}]'],custom_data={"race_stop":true},food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]

execute unless entity @s[nbt={Inventory:[{components:{"minecraft:custom_data":{"race_inv":true}},id:"minecraft:potion"}]}] if entity @s[tag=!race_inv] run item replace entity @s hotbar.6 with potion[item_name='[{"text":"启用 ","color":"green","bold": true,"italic": false},{"text":"玩家隐形","color":"white","bold": true,"italic": false}]',hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 使竞赛中的玩家隐形","color": "gray","italic": false}]','{"text": ""}','{"text": "可以防止竞赛中视野被其他玩家遮挡","color": "gray","italic": false}'],custom_data={"race_inv":true},food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647},potion_contents={custom_color:16777215}]

execute unless entity @s[nbt={Inventory:[{components:{"minecraft:custom_data":{"race_inv":true}},id:"minecraft:dragon_breath"}]}] if entity @s[tag=race_inv] run item replace entity @s hotbar.6 with dragon_breath[item_name='[{"text":"禁用 ","color":"red","bold": true,"italic": false},{"text":"玩家隐形","color":"white","bold": true,"italic": false}]',hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 使竞赛中的玩家隐形","color": "gray","italic": false}]','{"text": ""}','{"text": "可以防止竞赛中视野被其他玩家遮挡","color": "gray","italic": false}'],custom_data={"race_inv":true},food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647},enchantment_glint_override=true]

execute unless entity @s[nbt={Inventory:[{components:{"minecraft:custom_data":{"race_info":true}}}]}] run item replace entity @s hotbar.7 with book[item_name='[{"text":"公布比赛结果","color":"yellow","bold": true,"italic": false}]',hide_additional_tooltip={},lore=['[{"text": "右键","color": "gold","italic": false},{"text": " 以公布比赛结果","color": "gray","italic": false}]','[{"text": "切换副手","color": "gold","italic": false},{"text": " 以查看本场比赛信息","color": "gray","italic": false}]'],custom_data={"race_info":true},food={nutrition:0,saturation:0,can_always_eat:true,eat_seconds:2147483647}]